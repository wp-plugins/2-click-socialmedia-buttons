(function(a){function g(a,b,c,d){var e=new Date;e.setTime(e.getTime()-100);document.cookie=a+"="+b+"; expires="+e.toUTCString()+"; path="+c+"; domain="+d}function f(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+c*24*60*60*1e3);document.cookie=a+"="+b+"; expires="+f.toUTCString()+"; path="+d+"; domain="+e}function e(){var b=document.location.href;var c=a("link[rel=canonical]").attr("href");if(c&&(c.length>0)){if(c.indexOf("http")<0){c=document.location.protocol+"//"+document.location.host+c}b=c}return b}function d(){var b=c("DC.title");var d=c("DC.creator");if((b.length>0)&&(d.length>0)){b+=" - "+d}else{b=a("title").text()}return encodeURIComponent(b)}function c(b){var c=a('meta[name="'+b+'"]').attr("content");return c||""}function b(a,b){var c=decodeURIComponent(a);if(c.length<=b){return a}var d=c.substring(0,b-1).lastIndexOf(" ");c=encodeURIComponent(c.substring(0,d))+"…";return c}"use strict";a.fn.socialSharePrivacy=function(c){var d={services:{facebook:{status:"on",dummy_img:"",txt_info:"2 Klicks für mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie können Ihre Empfehlung an Facebook senden. Schon beim Aktivieren werden Daten an Dritte übertragen - siehe <em>i</em>.",txt_fb_off:"nicht mit Facebook verbunden",txt_fb_on:"mit Facebook verbunden",perma_option:"on",display_name:"Facebook",referrer_track:"",language:"de_DE",action:"recommend"},twitter:{status:"on",dummy_img:"",txt_info:"2 Klicks für mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie können Ihre Empfehlung an Twitter senden. Schon beim Aktivieren werden Daten an Dritte übertragen - siehe <em>i</em>.",txt_twitter_off:"nicht mit Twitter verbunden",txt_twitter_on:"mit Twitter verbunden",perma_option:"on",display_name:"Twitter",reply_to:"",tweet_text:"",referrer_track:"",language:"de"},gplus:{status:"on",dummy_img:"",txt_info:"2 Klicks für mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie können Ihre Empfehlung an Google+ senden. Schon beim Aktivieren werden Daten an Dritte übertragen - siehe <em>i</em>.",txt_gplus_off:"nicht mit Google+ verbunden",txt_plus_on:"mit Google+ verbunden",perma_option:"on",display_name:"Google+",referrer_track:"",plusone_lib:""},flattr:{status:"on",uid:"",dummy_img:"",txt_info:"2 Klicks für mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie können Ihre Empfehlung an Flattr senden. Schon beim Aktivieren werden Daten an Dritte übertragen - siehe <em>i</em>.",txt_flattr_off:"nicht mit Flattr verbunden",txt_flattr_on:"mit Flattr verbunden",perma_option:"on",display_name:"Flattr",the_title:"",referrer_track:"",the_excerpt:""}},info_link:"http://www.heise.de/ct/artikel/2-Klicks-fuer-mehr-Datenschutz-1333879.html",txt_help:"Wenn Sie diese Felder durch einen Klick aktivieren, werden Informationen an Facebook, Twitter, Flattr oder Google ins Ausland übertragen und unter Umständen auch dort gespeichert. Näheres erfahren Sie durch einen Klick auf das <em>i</em>.",settings_perma:"Dauerhaft aktivieren und Datenüber-tragung zustimmen:",cookie_path:"/",cookie_domain:document.location.host,cookie_expires:"365",css_path:"",uri:e};var c=a.extend(true,d,c);var h=c.services.facebook.status==="on";var i=c.services.twitter.status==="on";var j=c.services.gplus.status==="on";var k=c.services.flattr.status==="on";if(!h&&!i&&!j&&!k){return}if(c.css_path.length>0){a("head").append('<link rel="stylesheet" type="text/css" href="'+c.css_path+'" />')}a(this).prepend('<ul class="social_share_privacy_area"></ul>');var l=a(".social_share_privacy_area",this);var m=c.uri;if(typeof m==="function"){m=m()}return this.each(function(){if(h){var d=encodeURIComponent(m+c.services.facebook.referrer_track);var e='<iframe src="http://www.facebook.com/plugins/like.php?locale='+c.services.facebook.language+"&href="+d+"&send=false&layout=button_count&width=120&show_faces=false&action="+c.services.facebook.action+'&colorscheme=light&font&height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:145px; height:21px;" allowTransparency="true"></iframe>';var n='<img src="'+c.services.facebook.dummy_img+'" alt="Facebook "Like"-Dummy" class="fb_like_privacy_dummy" />';l.append('<li class="facebook help_info"><span class="info">'+c.services.facebook.txt_info+'</span><span class="switch off">'+c.services.facebook.txt_fb_off+'</span><div class="fb_like dummy_btn">'+n+"</div></li>");var o=a("li.facebook",l);a("li.facebook div.fb_like img.fb_like_privacy_dummy,li.facebook span.switch",l).live("click",function(){if(o.find("span.switch").hasClass("off")){o.addClass("info_off");o.find("span.switch").addClass("on").removeClass("off").html(c.services.facebook.txt_fb_on);o.find("img.fb_like_privacy_dummy").replaceWith(e)}else{o.removeClass("info_off");o.find("span.switch").addClass("off").removeClass("on").html(c.services.facebook.txt_fb_off);o.find(".fb_like").html(n)}})}if(i){var p=c.services.twitter.tweet_text;if(typeof p==="function"){p=p()}p=b(p,"120");var q=encodeURIComponent(m+c.services.twitter.referrer_track);var r=encodeURIComponent(m);var s='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url='+q+"&counturl="+r+"&text="+p+"&via="+c.services.twitter.reply_to+"&count=horizontal&lang="+c.services.twitter.language+'" style="width:130px; height:25px;"></iframe>';var t='<img src="'+c.services.twitter.dummy_img+'" alt=""Tweet this"-Dummy" class="tweet_this_dummy" />';l.append('<li class="twitter help_info"><span class="info">'+c.services.twitter.txt_info+'</span><span class="switch off">'+c.services.twitter.txt_twitter_off+'</span><div class="tweet dummy_btn">'+t+"</div></li>");var u=a("li.twitter",l);a("li.twitter div.tweet img,li.twitter span.switch",l).live("click",function(){if(u.find("span.switch").hasClass("off")){u.addClass("info_off");u.find("span.switch").addClass("on").removeClass("off").html(c.services.twitter.txt_twitter_on);u.find("img.tweet_this_dummy").replaceWith(s)}else{u.removeClass("info_off");u.find("span.switch").addClass("off").removeClass("on").html(c.services.twitter.txt_twitter_off);u.find(".tweet").html(t)}})}if(j){var v=m+c.services.gplus.referrer_track;var w='<div class="g-plusone" data-size="medium" data-href="'+v+'"></div><script type="text/javascript">window.___gcfg = {lang: "'+c.services.gplus.language+'"}; (function() { var po = document.createElement("script"); po.type = "text/javascript"; po.async = true; po.src = "https://apis.google.com/js/plusone.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s); })(); </script>';var x='<img src="'+c.services.gplus.dummy_img+'" alt=""Google+1"-Dummy" class="gplus_one_dummy" />';l.append('<li class="gplus help_info"><span class="info">'+c.services.gplus.txt_info+'</span><span class="switch off">'+c.services.gplus.txt_gplus_off+'</span><div class="gplusone dummy_btn">'+x+"</div></li>");var y=a("li.gplus",l);a("li.gplus div.gplusone img,li.gplus span.switch",l).live("click",function(){if(y.find("span.switch").hasClass("off")){y.addClass("info_off");y.find("span.switch").addClass("on").removeClass("off").html(c.services.gplus.txt_gplus_on);y.find("img.gplus_one_dummy").replaceWith(w)}else{y.removeClass("info_off");y.find("span.switch").addClass("off").removeClass("on").html(c.services.gplus.txt_gplus_off);y.find(".gplusone").html(x)}})}if(k){var z=c.services.flattr.the_title;var A=encodeURIComponent(m);var B=c.services.flattr.the_excerpt;var C='<iframe src="http://api.flattr.com/button/view/?uid='+c.services.flattr.uid+"&url="+A+"&title="+z+"&description="+B+'&category=text&language=de_DE&button=compact" style="width:110px; height:22px;" allowtransparency="true" frameborder="0" scrolling="no"></iframe>';var D='<img src="'+c.services.flattr.dummy_img+'" alt=""Flattr"-Dummy" class="flattr_dummy" />';l.append('<li class="flattr help_info"><span class="info">'+c.services.flattr.txt_info+'</span><span class="switch off">'+c.services.flattr.txt_flattr_off+'</span><div class="flattrbtn dummy_btn">'+D+"</div></li>");var E=a("li.flattr",l);a("li.flattr div.flattrbtn img,li.flattr span.switch",l).live("click",function(){if(E.find("span.switch").hasClass("off")){E.addClass("info_off");E.find("span.switch").addClass("on").removeClass("off").html(c.services.flattr.txt_flattr_on);E.find("img.flattr_dummy").replaceWith(C)}else{E.removeClass("info_off");E.find("span.switch").addClass("off").removeClass("on").html(c.services.flattr.txt_flattr_off);E.find(".flattrbtn").html(D)}})}l.append('<li class="settings_info"><div class="settings_info_menu off perma_option_off"><a href="'+c.info_link+'"><span class="help_info icon"><span class="info">'+c.txt_help+"</span></span></a></div></li>");a(".help_info:not(.info_off)",l).live("mouseenter",function(){var b=a(this);var c=window.setTimeout(function(){a(b).addClass("display")},500);a(this).data("timeout_id",c)});a(".help_info",l).live("mouseleave",function(){var b=a(this).data("timeout_id");window.clearTimeout(b);if(a(this).hasClass("display")){a(this).removeClass("display")}});var F=c.services.facebook.perma_option==="on";var G=c.services.twitter.perma_option==="on";var H=c.services.gplus.perma_option==="on";var I=c.services.flattr.perma_option==="on";if(((h&&F)||(i&&G)||(j&&H)||(k&&I))&&(!a.browser.msie||(a.browser.msie&&(a.browser.version>7)))){var J=document.cookie.split(";");var K="{";var L=0;for(;L<J.length;L+=1){var M=J[L].split("=");K+='"'+a.trim(M[0])+'":"'+a.trim(M[1])+'"';if(L<J.length-1){K+=","}}K+="}";K=JSON.parse(K);var N=a("li.settings_info",l);N.find(".settings_info_menu").removeClass("perma_option_off");N.find(".settings_info_menu").append('<span class="settings">Einstellungen</span><form><fieldset><legend>'+c.settings_perma+"</legend></fieldset></form>");var O=' checked="checked"';if(h&&F){var P=K.socialSharePrivacy_facebook==="perma_on"?O:"";N.find("form fieldset").append('<input type="checkbox" name="perma_status_facebook" id="perma_status_facebook"'+P+' /><label for="perma_status_facebook">'+c.services.facebook.display_name+"</label>")}if(i&&G){var Q=K.socialSharePrivacy_twitter==="perma_on"?O:"";N.find("form fieldset").append('<input type="checkbox" name="perma_status_twitter" id="perma_status_twitter"'+Q+' /><label for="perma_status_twitter">'+c.services.twitter.display_name+"</label>")}if(j&&H){var R=K.socialSharePrivacy_gplus==="perma_on"?O:"";N.find("form fieldset").append('<input type="checkbox" name="perma_status_gplus" id="perma_status_gplus"'+R+' /><label for="perma_status_gplus">'+c.services.gplus.display_name+"</label>")}if(k&&I){var S=K.socialSharePrivacy_flattr==="perma_on"?O:"";N.find("form fieldset").append('<input type="checkbox" name="perma_status_flattr" id="perma_status_flattr"'+S+' /><label for="perma_status_flattr">'+c.services.flattr.display_name+"</label>")}N.find("span.settings").css("cursor","pointer");a(N.find("span.settings"),l).live("mouseenter",function(){var b=window.setTimeout(function(){N.find(".settings_info_menu").removeClass("off").addClass("on")},500);a(this).data("timeout_id",b)});a(N,l).live("mouseleave",function(){var b=a(this).data("timeout_id");window.clearTimeout(b);N.find(".settings_info_menu").removeClass("on").addClass("off")});a(N.find("fieldset input")).live("click",function(b){var d=b.target.id;var e=d.substr(d.lastIndexOf("_")+1,d.length);var h="socialSharePrivacy_"+e;if(a("#"+b.target.id+":checked").length){f(h,"perma_on",c.cookie_expires,c.cookie_path,c.cookie_domain);a("form fieldset label[for="+d+"]",l).addClass("checked")}else{g(h,"perma_on",c.cookie_path,c.cookie_domain);a("form fieldset label[for="+d+"]",l).removeClass("checked")}});if(h&&F&&K.socialSharePrivacy_facebook==="perma_on"){a("li.facebook div.fb_like img",l).click()}if(i&&G&&K.socialSharePrivacy_twitter==="perma_on"){a("li.twitter div.tweet img",l).click()}if(j&&H&&K.socialSharePrivacy_gplus==="perma_on"){a("li.gplus div.gplusone img",l).click()}if(k&&I&&K.socialSharePrivacy_flattr==="perma_on"){a("li.flattr div.flattrbtn img",l).click()}}})}})(jQuery)